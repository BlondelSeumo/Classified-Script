exports.ids=[117],exports.modules={151:function(t,e,r){"use strict";r.r(e);var l={middleware:"auth",layout:"default/main",async asyncData({$axios:t,params:e,query:r}){let l=await t.post("account/deals/promote",{id:e.id,package:r.package});return{packages:l.data.packages,deal:l.data.deal,seo:{title:l.data.seo.title,separator:l.data.seo.separator,description:l.data.seo.description,favicon:l.data.seo.favicon}}},data:function(){return{stripe:{image:null,name:null,description:null,currency:null,amount:null},selected:null,loading:!1,pageLoaded:!1}},head(){return{title:this.$t("t_promote_your_deal"),titleTemplate:`%s ${this.seo.separator} ${this.seo.title}`,meta:[{name:"description",content:this.seo.description},{name:"robots",content:"noindex, nofollow"}],link:[{rel:"icon",type:"image/x-icon",href:this.seo.favicon}]}},watch:{current:{handler:function(object){this.select(object)},deep:!0}},methods:{select:function(t){this.selected=t.id,this.stripe.image=this.preview(this.deal),this.stripe.name=this.$t("t_promote_your_deal"),this.stripe.description=t.title,this.stripe.currency=t.currency,this.stripe.amount=100*t.price,this.$nextTick((function(){this.checkout()}))},async checkout(){const{token:t,args:e}=await this.$refs.checkout.open()},done({token:t,args:e}){this.loading=!0,this.$axios.post("account/deals/promote/checkout",{id:this.deal.unique_id,package:this.selected,token:t.id}).then(t=>{"paid"===t.data.status&&(this.$toasted.show(this.$t("t_toasted_payment_made"),{icon:"done_all",className:this.$vuetify.rtl?"toasted-rtl":""}),this.$router.push("/account/deals")),this.loading=!1}).catch(t=>{"failed"===t.response.data.status?this.$toasted.error(this.$t("t_toasted_payment_failed"),{icon:"error",className:this.$vuetify.rtl?"toasted-rtl":""}):this.$toasted.error(this.$t("t_toasted_something_went_wrong"),{icon:"error",className:this.$vuetify.rtl?"toasted-rtl":""}),this.loading=!1})},opened(){},closed(){},canceled(){},preview:function(t){return 0===t.photosNumber?this.$homeApi("storage/app/uploads/default/classifieds/no-image.png"):this.$homeApi("storage/app/uploads/classifieds/"+t.unique_id+"/preview_0.jpg")},avatar:function(t){return null===t?this.$homeApi("storage/app/uploads/default/avatar/noavatar.png"):this.$homeApi("storage/app/"+t)}}},o=r(1),component=Object(o.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{id:"inspire"}},[r("v-overlay",{attrs:{opacity:"0.8"},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[r("v-progress-circular",{attrs:{indeterminate:"",size:"80",width:"4",color:"white"}},[t._v("\n\t\t\t\t"+t._s(t.$t("t_loading"))+"\n\t\t\t")])],1),t._v(" "),r("v-content",[r("v-container",{attrs:{"grid-list-xl":"",fluid:""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs3:""}},[r("v-card",{staticClass:"m-card ad-box",class:t.deal.isUpgraded&&"highlight"===t.deal.upgradedTo?"deal-highlight":"",attrs:{flat:""}},[r("v-img",{attrs:{cover:"",height:"230px","lazy-src":t.$homeApi("public/images/default/lazy.jpg"),src:t.preview(t.deal)}},[r("v-container",{staticClass:"pa-0",attrs:{"fill-height":""}},[r("v-layout",{attrs:{"align-center":"","justify-center":""}},[r("nuxt-link",{staticStyle:{position:"absolute",height:"100%",width:"100%"},attrs:{to:"/listing/"+t.deal.unique_slug}})],1)],1)],1),t._v(" "),r("v-card-title",[r("div",{staticClass:"text-xs-left text-truncate"},[t.deal.isUpgraded&&"urgent"===t.deal.upgradedTo?r("span",{staticClass:"deal-urgent"},[t._v("urgent")]):t._e(),t._v(" "),r("nuxt-link",{staticClass:"deal-title",attrs:{to:"/listing/"+t.deal.unique_slug}},[t._v(t._s(t.deal.title))])],1)]),t._v(" "),r("v-card-actions",[r("v-list-item",{staticClass:"grow deal-avatar px-2"},[r("v-list-item-avatar",{class:t.$vuetify.rtl?"ml-2":"mr-2",attrs:{color:"white",size:"25px"}},[r("v-img",{attrs:{src:t.avatar(t.deal.user.avatar)}})],1),t._v(" "),r("v-list-item-content",[r("v-list-item-title",{staticClass:"deal-username"},[t._v(t._s(t.deal.user.username))])],1),t._v(" "),r("v-layout",{staticStyle:{"margin-bottom":"14px"},attrs:{"align-center":"","justify-end":""}},[t.deal.price&&t.deal.currency&&t.deal.locale?r("span",{staticClass:"deal-price"},[t._v(t._s(t.$getCurrency(t.deal.price,t.deal.currency,t.deal.locale)))]):t._e()])],1)],1)],1)],1),t._v(" "),r("v-flex",{attrs:{xs9:""}},[r("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[r("v-layout",{attrs:{column:"",wrap:"","align-center":""}},[r("v-flex",{staticStyle:{width:"100%"},attrs:{xs12:""}},[r("v-container",{staticClass:"pa-0",attrs:{"grid-list-xl":""}},[r("v-layout",{attrs:{row:"",wrap:"","align-start":"","justify-start":""}},t._l(t.packages,(function(p,e){return r("v-flex",{key:e,attrs:{xs2:""}},[r("v-card",{staticClass:"cursor-pointer pt-3",class:t.selected===p.id?"selected-package":"",staticStyle:{"box-shadow":"0px 1px 1px rgba(0, 0, 0, 0.08)"},attrs:{flat:"",color:t.selected===p.id?"#878d8b":"white"}},[r("v-icon",{directives:[{name:"show",rawName:"v-show",value:p.id===t.selected,expression:"p.id === selected"}],staticStyle:{position:"absolute",top:"10px",right:"10px"},attrs:{size:"16px",color:"white"},on:{click:function(e){t.selected=null}}},[t._v("mdi-close")]),t._v(" "),r("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var l=e.on;return[r("v-icon",t._g({directives:[{name:"show",rawName:"v-show",value:t.selected!==p.id,expression:"selected !== p.id"}],staticStyle:{position:"absolute",top:"10px",left:"10px"},attrs:{size:"16px",color:"#7a7a7a"},on:{click:function(e){t.selected=null}}},l),[t._v("mdi-information-variant")])]}}],null,!0)},[t._v(" "),r("span",[t._v(t._s(p.title))])]),t._v(" "),r("v-card-title",{staticClass:"layout justify-center pb-4",attrs:{"primary-title":""},on:{click:function(e){return t.select(p)}}},[r("v-chip",{directives:[{name:"show",rawName:"v-show",value:"highlight"===p.type,expression:"p.type === 'highlight'"}],attrs:{small:"",label:"",color:"amber lighten-4","text-color":"amber darken-2"}},[t._v(t._s(t.$t("t_highlight")))]),t._v(" "),r("v-chip",{directives:[{name:"show",rawName:"v-show",value:"urgent"===p.type,expression:"p.type === 'urgent'"}],attrs:{small:"",label:"",color:"red lighten-4","text-color":"red darken-2"}},[t._v(t._s(t.$t("t_urgent")))]),t._v(" "),r("v-chip",{directives:[{name:"show",rawName:"v-show",value:"featured"===p.type,expression:"p.type === 'featured'"}],attrs:{small:"",label:"",color:"light-green lighten-4","text-color":"light-green darken-2"}},[t._v(t._s(t.$t("t_featured")))])],1),t._v(" "),r("v-card-text",{staticClass:"text-center pb-0",on:{click:function(e){return t.select(p)}}},[r("span",{staticClass:"package-price pb-3",staticStyle:{display:"block","font-family":"'Open sans',sans-serif","font-size":"16px!important","letter-spacing":"1px","font-weight":"700"}},[t._v(t._s(t.$getCurrency(p.price,p.currency,p.locale)))]),t._v(" "),r("div",{staticClass:"grey--text"},[r("span",{staticClass:"package-days",staticStyle:{"font-family":"Hind,sans-serif","font-weight":"500","text-transform":"uppercase","font-size":"10px","letter-spacing":"1px",color:"#595959"}},[t._v(t._s(t._f("numeralFormat")(p.days))+" days")]),r("br"),t._v(" "),r("br")])])],1)],1)})),1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),r("vue-stripe-checkout",{ref:"checkout",attrs:{image:t.stripe.image,name:t.stripe.name,description:t.stripe.description,currency:t.stripe.currency,amount:t.stripe.amount,"allow-remember-me":!0},on:{done:t.done,opened:t.opened,closed:t.closed,canceled:t.canceled}})],1)],1)}),[],!1,null,null,"207b7167");e.default=component.exports}};