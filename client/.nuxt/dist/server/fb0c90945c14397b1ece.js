exports.ids=[133],exports.modules={170:function(t,e,o){"use strict";o.r(e);var n={layout:"default/main",middleware:"auth",async asyncData({$axios:t,params:e}){let o=await t.post(`pricing/checkout/${e.plan}`);return{plan:o.data.plan,seo:{title:o.data.seo.title,separator:o.data.seo.separator,description:o.data.seo.description,favicon:o.data.seo.favicon}}},data:function(){return{dontClose:!1,loading:!0}},head(){return{title:this.plan.title,titleTemplate:`%s ${this.seo.separator} ${this.seo.title}`,meta:[{name:"description",content:this.plan.description},{name:"robots",content:"index, follow"}],link:[{rel:"icon",type:"image/x-icon",href:this.seo.favicon}]}},computed:{amount(){return 100*this.plan.price}},methods:{async checkout(){const{token:t,args:e}=await this.$refs.checkoutRef.open()},done({token:t,args:e}){this.dontClose=!0,this.loading=!0,this.$axios.post("subscription/create/account",{token:t,plan:this.plan.slug}).then(t=>{"paid"===t.data.status&&(this.$toasted.show(this.$t("t_toasted_upgrade_requires_review"),{icon:"done_all",className:this.$vuetify.rtl?"toasted-rtl":""}),this.$router.push({name:"mainIndex"})),this.loading=!1}).catch(t=>{"not_found"===t.response.data.status?this.$toasted.error(this.$t("t_toasted_plan_not_found"),{icon:"error",className:this.$vuetify.rtl?"toasted-rtl":""}):"failed"===t.response.data.status?this.$toasted.error(this.$t("t_toasted_payment_failed"),{icon:"error",className:this.$vuetify.rtl?"toasted-rtl":""}):this.$toasted.error(this.$t("t_toasted_something_went_wrong"),{icon:"error",className:this.$vuetify.rtl?"toasted-rtl":""}),this.loading=!1})},opened(){this.loading=!1},closed(){this.dontClose||this.$router.push({name:"mainPricing"})},canceled(){this.$router.push({name:"mainPricing"})}}},r=o(1),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",{attrs:{id:"inspire"}},[o("v-overlay",{attrs:{opacity:"0.8"},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[o("v-progress-circular",{attrs:{indeterminate:"",size:"80",width:"4",color:"white"}},[t._v("\n\t\t\t\t"+t._s(t.$t("t_loading"))+"\n\t\t\t")])],1),t._v(" "),o("v-content",[o("vue-stripe-checkout",{ref:"checkoutRef",attrs:{image:!!t.plan.icon&&t.$homeApi("storage/app/"+t.plan.icon),name:t.plan.title,description:t.plan.description,currency:t.plan.currency,amount:t.amount,"allow-remember-me":!0,"auto-open-modal":!0},on:{done:t.done,opened:t.opened,closed:t.closed,canceled:t.canceled}})],1)],1)}),[],!1,null,null,"6a4f8383");e.default=component.exports}};