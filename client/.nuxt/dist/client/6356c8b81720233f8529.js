(window.webpackJsonp=window.webpackJsonp||[]).push([[149],{591:function(t,e,n){"use strict";n.r(e);var r,o=n(97),l=(n(47),n(27)),c={layout:"default/manager",middleware:"manager",asyncData:(r=Object(l.a)(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$axios,t.next=3,n.get("manager/settings/subscription");case 3:return r=t.sent,t.abrupt("return",{subscriptionsData:r.data,subscriptions:r.data.data});case 5:case"end":return t.stop()}}),t)}))),function(t){return r.apply(this,arguments)}),data:function(){return{loading:!1}},head:function(){return{title:this.$t("t_my_subscriptions"),titleTemplate:"%s ".concat(this.$store.state.settings.separator," ").concat(this.$t("t_dashboard")),meta:[{name:"robots",content:"noindex, nofollow"}],link:[{rel:"icon",type:"image/x-icon",href:this.$store.state.settings.favicon?this.$homeApi("storage/app/".concat(this.$store.state.settings.favicon)):this.$homeApi("storage/app/uploads/default/settings/favicon/favicon.png")}]}},computed:{headers:function(){return[{text:this.$t("t_package"),value:"package",sortable:!1,align:this.$vuetify.rtl?"right":"left"},{text:this.$t("t_price"),value:"price",sortable:!1,align:"center"},{text:this.$t("t_subscribed"),value:"subscribed",sortable:!1,align:"center"},{text:this.$t("t_expires_in"),value:"expires",sortable:!1,align:"center"},{text:this.$t("t_status"),value:"status",sortable:!1,align:"center"}]}},methods:{getNextPage:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0,this.$axios.get("manager/settings/subscription?page="+e).then((function(e){t.subscriptionsData=e.data,t.subscriptions=e.data.data,void 0!==("undefined"==typeof window?"undefined":Object(o.a)(window))&&window.scrollTo(0,0),t.loading=!1}))},frequency:function(t){switch(t){case"daily":return this.$t("t_daily");case"weekly":return this.$t("t_weekly");case"monthly":return this.$t("t_monthly");case"yearly":default:return this.$t("t_yearly")}},icon:function(t){return null===t.icon?this.$homeApi("storage/app/uploads/default/plan/no-image.jpg"):this.$homeApi("storage/app/"+t.icon)}}},v=n(52),component=Object(v.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"inspire"}},[n("v-overlay",{attrs:{opacity:"0.8"},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[n("v-progress-circular",{attrs:{indeterminate:"",size:"80",width:"4",color:"white"}},[t._v("\n\t\t\t\t"+t._s(t.$t("t_loading"))+"\n\t\t\t")])],1),t._v(" "),n("v-container",[n("div",{staticClass:"m-card"},[n("v-toolbar",{staticClass:"elevation-0",attrs:{color:"white"}},[n("v-toolbar-title",[t._v(t._s(t.$t("t_my_subscriptions")))]),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"px-3",attrs:{depressed:"",small:"",to:"/pricing",target:"_blank",nuxt:""}},[t._v("\n                        "+t._s(t.$t("t_renew_your_subscription"))+"\n                    ")])],1),t._v(" "),n("v-data-table",{attrs:{headers:t.headers,items:t.subscriptions,"item-key":"id","hide-default-footer":"","no-data-text":t.$t("t_table_no_data_available"),"disable-pagination":""},scopedSlots:t._u([{key:"item.package",fn:function(e){var r=e.item;return[n("v-list",{staticClass:"transparent",attrs:{"two-line":""}},[n("v-list-item",[n("v-list-item-avatar",[n("img",{attrs:{src:t.icon(r.plan)}})]),t._v(" "),n("v-list-item-content",[n("v-list-item-title",{staticClass:"table-wrap-title",domProps:{innerHTML:t._s(r.plan.title)}}),t._v(" "),n("v-list-item-subtitle",{domProps:{innerHTML:t._s(r.plan.subtitle)}})],1)],1)],1)]}},{key:"item.price",fn:function(e){var r=e.item;return[null===r.price&&null===r.currency&&null===r.locale?n("div"):n("div",[t._v(t._s(t.$getCurrency(r.price,r.currency,r.locale))),n("span",{staticClass:"font-weight-light"},[t._v("/"+t._s(t.frequency(r.plan.frequency)))])])]}},{key:"item.subscribed",fn:function(e){var n=e.item;return[t._v(t._s(t.$ago(n.subscribed_at)))]}},{key:"item.expires",fn:function(e){var n=e.item;return[t._v(t._s(t.$dateString(n.expires_at)))]}},{key:"item.status",fn:function(e){var r=e.item;return[r.isExpired?n("v-btn",{attrs:{text:"",color:"error"}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t("t_expired"))+"\n\t\t\t\t\t\t")]):r.expirySoon?n("v-btn",{attrs:{text:"",color:"#949494"}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t("t_expire_soon"))+"\n\t\t\t\t\t\t")]):n("v-btn",{attrs:{text:"",color:"success"}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t("t_active"))+"\n\t\t\t\t\t\t")])]}}])})],1),t._v(" "),n("div",{staticClass:"text-center pt-2"},[n("pagination",{attrs:{data:t.subscriptionsData,limit:8,align:t.$vuetify.rtl?"left":"right"},on:{"pagination-change-page":t.getNextPage}},[n("span",{attrs:{slot:"prev-nav"},slot:"prev-nav"},[n("i",{staticClass:"v-icon material-icons theme--light",attrs:{"aria-hidden":"true"}},[t._v(t._s(t.$vuetify.rtl?"chevron_right":"chevron_left"))])]),t._v(" "),n("span",{attrs:{slot:"next-nav"},slot:"next-nav"},[n("i",{staticClass:"v-icon material-icons theme--light",attrs:{"aria-hidden":"true"}},[t._v(t._s(t.$vuetify.rtl?"chevron_left":"chevron_right"))])])])],1)])],1)}),[],!1,null,null,null);e.default=component.exports}}]);