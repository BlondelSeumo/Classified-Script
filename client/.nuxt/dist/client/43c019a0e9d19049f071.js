(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{524:function(t,e,r){var n=r(56);n(n.P,"Array",{fill:r(525)}),r(206)("fill")},525:function(t,e,r){"use strict";var n=r(120),o=r(410),l=r(107);t.exports=function(t){for(var e=n(this),r=l(e.length),c=arguments.length,d=o(c>1?arguments[1]:void 0,r),v=c>2?arguments[2]:void 0,m=void 0===v?r:o(v,r);m>d;)e[d++]=t;return e}},547:function(t,e,r){},571:function(t,e,r){"use strict";var n=r(547);r.n(n).a},691:function(t,e,r){"use strict";r.r(e);r(83),r(524),r(47);var n,o=r(27),l={layout:"default/admin",middleware:"administrator",asyncData:(n=Object(o.a)(regeneratorRuntime.mark((function t(e){var r,n,o,l,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.app,n=e.$axios,o=e.params,l=e.redirect,r.$adgate.allow(r.$auth.user,"statistics","deals")||l("/administrator"),t.next=4,n.post("administrator/deals/options/statistics",{id:o.id});case 4:return c=t.sent,t.abrupt("return",{listing:c.data.deal,views:c.data.views,visits:c.data.countries,continents:c.data.continents,devices:c.data.devices,platforms:c.data.platforms,browsers:c.data.browsers,dates:c.data.dates});case 6:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)}),data:function(){return{statistics:[],statisticsData:{},views:null,headers:[{text:this.$t("t_location"),value:"country",sortable:!1,align:this.$vuetify.rtl?"right":"left"},{text:this.$t("t_ip"),value:"ip",sortable:!1,align:this.$vuetify.rtl?"right":"left"},{text:this.$t("t_referrer"),value:"referrer",sortable:!1,align:this.$vuetify.rtl?"right":"left"},{text:this.$t("t_search_keyword"),value:"keyword",sortable:!1,align:this.$vuetify.rtl?"right":"left"},{text:this.$t("t_last_activity"),value:"activity",sortable:!1,align:"center"},{text:this.$t("t_device"),value:"device",sortable:!1,align:"center"},{text:this.$t("t_platform"),value:"platform",sortable:!1,align:"center"},{text:this.$t("t_browser"),value:"browser",sortable:!1,align:"center"}],loading:!1}},head:function(){return{title:this.$t("t_deal_statistics"),titleTemplate:"%s ".concat(this.$store.state.settings.separator," ").concat(this.$t("t_dashboard")),meta:[{name:"robots",content:"noindex, nofollow"}],link:[{rel:"icon",type:"image/x-icon",href:this.$store.state.settings.favicon?this.$homeApi("storage/app/".concat(this.$store.state.settings.favicon)):this.$homeApi("storage/app/uploads/default/settings/favicon/favicon.png")}]}},computed:{poster:function(){return 0==this.listing.photosNumber?this.$homeApi("storage/app/uploads/default/classifieds/no-image.png"):this.$homeApi("storage/app/uploads/classifieds/"+this.listing.unique_id+"/preview_0.jpg")},avatar:function(){return null===this.listing.user.avatar?this.$homeApi("storage/app/uploads/default/avatar/noavatar.png"):this.$homeApi("storage/app/"+this.listing.user.avatar)}},methods:{map:function(){var t=this.$am4core(),e=t.am4core,r=(t.am4charts,t.am4maps),n=(t.am4themes_animated,t.am4geodata_worldLow),o=(t.am4themes_material,e.create("mapChart",r.MapChart));o.geodata=n,o.projection=new r.projections.Miller;var l=o.series.push(new r.MapPolygonSeries);l.useGeodata=!0;var c=l.mapPolygons.template;o.zoomControl=new r.ZoomControl,l.exclude=["AQ"],c.tooltipText="{value} visits from {name}",c.fill=e.color("#e2e2e2"),c.stroke=e.color("#a9a9a9"),l.heatRules.push({property:"fill",target:l.mapPolygons.template,min:e.color("#737373"),max:e.color("#292929")}),l.data=this.visits},setContinents:function(){var t=this.$am4core(),e=t.am4core,r=t.am4charts,n=(t.am4maps,t.am4themes_animated,t.am4geodata_worldLow,t.am4themes_material,e.create("continentsChart",r.PieChart3D));n.hiddenState.properties.opacity=0,n.data=this.continents,n.innerRadius=e.percent(40),n.depth=30,n.legend=new r.Legend,n.legend.position="right";var o=n.series.push(new r.PieSeries3D);o.dataFields.value="value",o.dataFields.depthValue="value",o.dataFields.category="continent",o.slices.template.cornerRadius=5,o.colors.step=3},setDevices:function(){var t=this.$am4core(),e=t.am4core,r=t.am4charts,n=(t.am4maps,t.am4themes_animated,t.am4geodata_worldLow,t.am4themes_material,e.create("devicesChart",r.PieChart3D));n.hiddenState.properties.opacity=0,n.data=this.devices,n.innerRadius=e.percent(40),n.depth=30,n.legend=new r.Legend,n.legend.position="right";var o=n.series.push(new r.PieSeries3D);o.dataFields.value="value",o.dataFields.depthValue="value",o.dataFields.category="device",o.slices.template.cornerRadius=5,o.colors.step=3},setPlatforms:function(){var t=this.$am4core(),e=t.am4core,r=t.am4charts,n=(t.am4maps,t.am4themes_animated,t.am4geodata_worldLow,t.am4themes_material,e.create("platformsChart",r.PieChart3D));n.hiddenState.properties.opacity=0,n.data=this.platforms,n.innerRadius=e.percent(40),n.depth=30,n.legend=new r.Legend,n.legend.position="right";var o=n.series.push(new r.PieSeries3D);o.dataFields.value="value",o.dataFields.depthValue="value",o.dataFields.category="platform",o.slices.template.cornerRadius=5,o.colors.step=3},setBrowsers:function(){var t=this.$am4core(),e=t.am4core,r=t.am4charts,n=(t.am4maps,t.am4themes_animated,t.am4geodata_worldLow,t.am4themes_material,e.create("browsersChart",r.PieChart3D));n.hiddenState.properties.opacity=0,n.data=this.browsers,n.innerRadius=e.percent(40),n.depth=30,n.legend=new r.Legend,n.legend.position="right";var o=n.series.push(new r.PieSeries3D);o.dataFields.value="value",o.dataFields.depthValue="value",o.dataFields.category="browser",o.slices.template.cornerRadius=5,o.colors.step=3},setVisits:function(){var t=this.$am4core(),e=t.am4core,r=t.am4charts,n=(t.am4maps,t.am4themes_animated,t.am4geodata_worldLow,t.am4themes_material,e.create("visitsChart",r.XYChart)),data=new Array;for(var o in this.dates){var l={date:o,value:this.dates[o]};data.push(l)}n.data=data;var c=n.xAxes.push(new r.DateAxis);c.renderer.minGridDistance=40,n.cursor=new r.XYCursor,c.dateFormats.setKey("day","dt"),c.periodChangeDateFormats.setKey("day","dt");n.yAxes.push(new r.ValueAxis);var d=n.series.push(new r.ColumnSeries);d.dataFields.valueY="value",d.dataFields.dateX="date",d.name="Sales"},getMoreStatistics:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0,this.$axios.get("administrator/deals/options/statistics/more/"+this.listing.unique_id+"?page="+e).then((function(e){t.statistics=e.data.data,t.statisticsData=e.data})),this.loading=!1}},mounted:function(){this.map(),this.setContinents(),this.setDevices(),this.setPlatforms(),this.setBrowsers(),this.getMoreStatistics(),this.setVisits()}},c=(r(571),r(52)),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{id:"inspire"}},[r("v-overlay",{attrs:{opacity:"0.8"},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[r("v-progress-circular",{attrs:{indeterminate:"",size:"80",width:"4",color:"white"}},[t._v("\n\t\t\t"+t._s(t.$t("t_loading"))+"\n\t\t")])],1),t._v(" "),r("v-container",[r("v-container",{attrs:{"grid-list-xl":"",fluid:""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card",{staticClass:"m-card mb-4",attrs:{flat:""}},[r("v-layout",[r("v-flex",{staticClass:"py-0",attrs:{xs3:""}},[r("v-img",{attrs:{src:t.poster,height:"200px",cover:""}})],1),t._v(" "),r("v-flex",{attrs:{xs9:""}},[r("v-card-title",{staticClass:"py-2 px-4",attrs:{"primary-title":""}},[r("div",[r("nuxt-link",{staticClass:"headline black--text",attrs:{to:"/listing/"+t.listing.unique_slug,target:"_blank"}},[t._v(t._s(t.listing.title))]),t._v(" "),r("div",{staticClass:"pt-2 caption",domProps:{innerHTML:t._s(t.listing.description)}})],1)]),t._v(" "),r("v-card-actions",[r("v-list-item",{staticClass:"grow"},[r("v-list-item-avatar",{attrs:{color:"grey darken-3"}},[r("v-img",{staticClass:"elevation-0",attrs:{src:t.avatar}})],1),t._v(" "),r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(t.listing.user.username))])],1),t._v(" "),r("v-layout",{staticClass:"ma-0",attrs:{"align-center":"","justify-end":""}},[r("v-icon",{staticClass:"mr-2",attrs:{size:"20px"}},[t._v("mdi-eye")]),t._v(" "),r("span",{staticClass:"subheading mr-2"},[t._v(t._s(t._f("numeralFormat")(t.listing.visist_count)))])],1)],1)],1)],1)],1)],1)],1),t._v(" "),r("v-flex",{attrs:{xs12:""}},[r("v-card",{staticClass:"m-card pt-3",attrs:{flat:""}},[r("div",{ref:"mapChart",staticClass:"mapDiv",attrs:{id:"mapChart"}})])],1),t._v(" "),r("v-flex",{attrs:{xs12:""}},[r("v-card",{staticClass:"m-card pa-3",attrs:{flat:""}},[r("v-card-title",{attrs:{"primary-title":""}},[r("div",[r("div",{staticClass:"title"},[t._v(t._s(t.$t("t_visits_last_week")))]),t._v(" "),r("span",{staticClass:"card-description"},[t._v(t._s(t.$t("t_visits_last_week_desc")))])])]),t._v(" "),r("v-card-text",[r("div",{ref:"visitsChart",staticClass:"chartDiv",attrs:{id:"visitsChart"}})])],1)],1),t._v(" "),r("v-flex",{attrs:{xs12:""}},[r("v-card",{staticClass:"m-card pa-3",attrs:{flat:""}},[r("v-card-title",{attrs:{"primary-title":""}},[r("div",[r("div",{staticClass:"title"},[t._v(t._s(t.$t("t_continents")))]),t._v(" "),r("span",{staticClass:"card-description"},[t._v(t._s(t.$t("t_continents_stats_desc")))])])]),t._v(" "),r("v-card-text",[r("div",{ref:"continentsChart",staticClass:"chartDiv",attrs:{id:"continentsChart"}})])],1)],1),t._v(" "),r("v-flex",{attrs:{xs12:""}},[r("v-card",{staticClass:"m-card pa-3",attrs:{flat:""}},[r("v-card-title",{attrs:{"primary-title":""}},[r("div",[r("div",{staticClass:"title"},[t._v(t._s(t.$t("t_devices")))]),t._v(" "),r("span",{staticClass:"card-description"},[t._v(t._s(t.$t("t_devices_stats_desc")))])])]),t._v(" "),r("v-card-text",[r("div",{ref:"devicesChart",staticClass:"chartDiv",attrs:{id:"devicesChart"}})])],1)],1),t._v(" "),r("v-flex",{attrs:{xs12:""}},[r("v-card",{staticClass:"m-card pa-3",attrs:{flat:""}},[r("v-card-title",{attrs:{"primary-title":""}},[r("div",[r("div",{staticClass:"title"},[t._v(t._s(t.$t("t_platforms")))]),t._v(" "),r("span",{staticClass:"card-description"},[t._v(t._s(t.$t("t_platforms_stats_desc")))])])]),t._v(" "),r("v-card-text",[r("div",{ref:"platformsChart",staticClass:"chartDiv",attrs:{id:"platformsChart"}})])],1)],1),t._v(" "),r("v-flex",{attrs:{xs12:""}},[r("v-card",{staticClass:"m-card pa-3",attrs:{flat:""}},[r("v-card-title",{attrs:{"primary-title":""}},[r("div",[r("div",{staticClass:"title"},[t._v(t._s(t.$t("t_browsers")))]),t._v(" "),r("span",{staticClass:"card-description"},[t._v(t._s(t.$t("t_browsers_stats_desc")))])])]),t._v(" "),r("v-card-text",[r("div",{ref:"browsersChart",staticClass:"chartDiv",attrs:{id:"browsersChart"}})])],1)],1),t._v(" "),r("v-flex",{attrs:{xs12:""}},[r("div",{staticClass:"m-card"},[r("v-toolbar",{attrs:{color:"white",flat:""}},[r("v-toolbar-title",[t._v(t._s(t.$t("t_more_stats")))])],1),t._v(" "),r("v-data-table",{attrs:{headers:t.headers,items:t.statistics,"item-key":"id","hide-default-footer":"","disable-pagination":"","no-data-text":t.$t("t_table_no_data_available")},scopedSlots:t._u([{key:"item.country",fn:function(e){var n=e.item;return[r("v-list",{staticClass:"transparent",attrs:{"two-line":""}},[r("v-list-item",[r("v-list-item-avatar",[r("img",{attrs:{src:t.$homeApi("public/images/flags/large/"+n.countryCode+".png")}})]),t._v(" "),r("v-list-item-content",{staticClass:"table-wrap-title"},[r("v-list-item-title",{staticClass:"table-wrap-title",domProps:{innerHTML:t._s(n.countryName)}}),t._v(" "),r("v-list-item-subtitle",{staticClass:"pb-1 font-weight-regular d-block caption"},[t._v(t._s(n.state)+" - "+t._s(n.city)+" - "),r("b",[t._v(t._s(n.continent))])])],1)],1)],1)]}},{key:"item.ip",fn:function(e){var n=e.item;return[r("a",{staticClass:"table-wrap-title",attrs:{href:"https://extreme-ip-lookup.com/"+n.ip,target:"_blank"}},[t._v(t._s(n.ip))]),t._v(" "),r("small",{staticClass:"pb-1 font-weight-regular text-uppercase d-block"},[t._v(t._s(n.provider))])]}},{key:"item.referrer",fn:function(e){var n=e.item;return[r("a",{staticClass:"table-wrap-title",attrs:{href:n.referrer,target:"_blank"}},[t._v(t._s(n.referrer))]),t._v(" "),r("small",{staticClass:"pb-1 font-weight-regular text-uppercase d-block"},[t._v(t._s(n.referrerDomain))])]}},{key:"item.keyword",fn:function(e){var r=e.item;return[t._v("\n\t\t\t\t\t\t\t\t"+t._s(r.searchEngineKeyword?r.searchEngineKeyword:t.$t("t_n_a"))+"\n\t\t\t\t\t\t\t")]}},{key:"item.activity",fn:function(e){var r=e.item;return[t._v(t._s(t.$ago(r.last_visit)))]}},{key:"item.device",fn:function(e){var n=e.item;return[r("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n.isPhone&&!n.isTablet?r("v-btn",t._g({attrs:{text:"",icon:"",color:"#7f8c8d"}},o),[r("v-icon",{attrs:{size:"20px"}},[t._v("mdi-cellphone")])],1):t._e()]}}],null,!0)},[t._v(" "),r("span",[t._v(t._s(n.deviceName))])]),t._v(" "),r("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n.isDesktop?r("v-btn",t._g({attrs:{text:"",icon:"",color:"#7f8c8d"}},o),[r("v-icon",{attrs:{size:"20px"}},[t._v("mdi-desktop-mac")])],1):t._e()]}}],null,!0)},[t._v(" "),r("span",[t._v(t._s(t.$t("t_desktop")))])]),t._v(" "),r("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n.isTablet?r("v-btn",t._g({attrs:{text:"",icon:"",color:"#7f8c8d"}},o),[r("v-icon",{attrs:{size:"20px"}},[t._v("mdi-tablet-android")])],1):t._e()]}}],null,!0)},[t._v(" "),r("span",[t._v(t._s(n.deviceName))])]),t._v(" "),r("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n.isRobot?r("v-btn",t._g({attrs:{text:"",icon:"",color:"#7f8c8d"}},o),[r("v-icon",{attrs:{size:"20px"}},[t._v("mdi-robot")])],1):t._e()]}}],null,!0)},[t._v(" "),r("span",[t._v(t._s(n.robotName))])])]}},{key:"item.platform",fn:function(e){var r=e.item;return[t._v("\n\t\t\t\t\t\t\t\t"+t._s(r.platformName)+" "+t._s(r.platformVersion)+"\n\t\t\t\t\t\t\t")]}},{key:"item.browser",fn:function(e){var r=e.item;return[t._v("\n\t\t\t\t\t\t\t\t"+t._s(r.browserName)+" "+t._s(r.browserVersion)+"\n\t\t\t\t\t\t\t")]}}])})],1),t._v(" "),r("div",{staticClass:"text-center pt-2"},[r("pagination",{attrs:{data:t.statisticsData,limit:8,align:t.$vuetify.rtl?"left":"right"},on:{"pagination-change-page":t.getMoreStatistics}},[r("span",{attrs:{slot:"prev-nav"},slot:"prev-nav"},[r("i",{staticClass:"v-icon material-icons theme--light",attrs:{"aria-hidden":"true"}},[t._v(t._s(t.$vuetify.rtl?"chevron_right":"chevron_left"))])]),t._v(" "),r("span",{attrs:{slot:"next-nav"},slot:"next-nav"},[r("i",{staticClass:"v-icon material-icons theme--light",attrs:{"aria-hidden":"true"}},[t._v(t._s(t.$vuetify.rtl?"chevron_left":"chevron_right"))])])])],1)])],1)],1)],1)],1)}),[],!1,null,"31a1b664",null);e.default=component.exports}}]);