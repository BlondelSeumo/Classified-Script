(window.webpackJsonp=window.webpackJsonp||[]).push([[127],{635:function(t,e,r){"use strict";r.r(e);r(47);var o,n,l=r(27),c={middleware:"guest",asyncData:(n=Object(l.a)(regeneratorRuntime.mark((function t(e){var r,o,n,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$axios,o=e.query,n=e.redirect,t.next=3,r.get("auth/password/update?token=".concat(o.token)).catch((function(t){n("/")}));case 3:return l=t.sent,t.abrupt("return",{settings:{logo:l.data.logo.logo,recaptcha:l.data.recaptcha.recaptcha,siteKey:l.data.siteKey},seo:{title:l.data.seo.title,tagline:l.data.seo.tagline,separator:l.data.seo.separator,description:l.data.seo.description,favicon:l.data.seo.favicon}});case 5:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)}),data:function(){return{form:{email:null,password:null,password_confirmation:null},errors:[],loading:!1}},head:function(){return{title:this.$t("t_password_update"),titleTemplate:"%s ".concat(this.seo.separator," ").concat(this.seo.title),meta:[{name:"description",content:this.seo.description},{name:"robots",content:"index, follow"},{property:"og:type",content:"article"},{property:"og:title",content:"".concat(this.$t("t_password_update")," ").concat(this.seo.separator," ").concat(this.seo.title)},{property:"og:description",content:this.seo.description},{property:"og:image",content:this.logo},{property:"og:url",content:this.$home("auth/password/update")},{property:"og:site_name",content:this.seo.title},{property:"twitter:title",content:"".concat(this.$t("t_password_update")," ").concat(this.seo.separator," ").concat(this.seo.title)},{property:"twitter:description",content:this.seo.description},{property:"twitter:image",content:this.logo}],link:[{rel:"icon",type:"image/x-icon",href:this.seo.favicon}]}},computed:{logo:function(){return null!==this.settings.logo?this.$homeApi("storage/app/"+this.settings.logo):this.$homeApi("storage/app/uploads/default/settings/logo/white.png")}},methods:{update:(o=Object(l.a)(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.form.email&&this.form.password&&this.form.password_confirmation){t.next=2;break}return t.abrupt("return");case 2:return this.loading=!0,t.next=5,this.$axios.post("auth/password/update?token=".concat(this.$route.query.token),{email:this.form.email,password:this.form.password,password_confirmation:this.form.password_confirmation}).then((function(t){e.$router.push("/auth/login"),e.$toasted.show(e.$t("t_toasted_password_updated"),{icon:"done_all",className:e.$vuetify.rtl?"toasted-rtl":""}),e.loading=!1})).catch((function(t){t.response.data.errors&&(e.errors=t.response.data.errors),e.loading=!1,e.$toasted.error(e.$t("t_toasted_something_went_wrong"),{icon:"error",className:e.$vuetify.rtl?"toasted-rtl":""})}));case 5:t.sent;case 6:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})}},d=r(52),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{id:"inspire"}},[r("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[r("v-overlay",{attrs:{opacity:"0.8"},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[r("v-progress-circular",{attrs:{indeterminate:"",size:"80",width:"4",color:"white"}},[t._v("\n                "+t._s(t.$t("t_loading"))+"\n            ")])],1),t._v(" "),r("v-layout",{attrs:{row:""}},[r("v-flex",{staticClass:"hd-fullscreen auth-wallpaper",attrs:{xs8:""}},[r("v-parallax",{style:"background-image:url("+t.$homeApi("public/images/auth/wallpaper.jpg"),attrs:{height:"100%"}},[r("v-layout",{staticClass:"pa-12",attrs:{"align-center":"",column:""}},[r("nuxt-link",{attrs:{to:"/"}},[r("img",{attrs:{src:t.logo,alt:""}})])],1)],1)],1),t._v(" "),r("v-flex",{attrs:{xs4:"","order-lg2":""}},[r("v-card",{staticClass:"hd-fullscreen pa-12",attrs:{flat:"",color:"white"}},[r("v-container",{attrs:{"grid-list-xl":"",fluid:""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("h1",{staticClass:"title font-weight-black mb-1"},[t._v(t._s(t.$t("t_password_update")))]),t._v(" "),r("span",{staticClass:"caption grey--text lighten-3"},[t._v(t._s(t.$t("t_password_update_para")))])]),t._v(" "),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{color:"grey lighten-1",label:t.$t("t_email"),placeholder:t.$t("t_enter_email"),rules:t.errors.email,error:!!t.errors.email},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{color:"grey lighten-1",label:t.$t("t_password"),placeholder:t.$t("t_enter_password"),rules:t.errors.password,error:!!t.errors.password,type:"password",autocomplete:"off"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{color:"grey lighten-1",label:t.$t("t_password_confirmation"),placeholder:t.$t("t_enter_password_confirmation"),rules:t.errors.password_confirmation,error:!!t.errors.password_confirmation,type:"password",autocomplete:"off"},model:{value:t.form.password_confirmation,callback:function(e){t.$set(t.form,"password_confirmation",e)},expression:"form.password_confirmation"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:""}},[r("v-btn",{staticClass:"mb-2",attrs:{depressed:"",disabled:t.loading,loading:t.loading,block:"",dark:"",color:"blue"},on:{click:function(e){return e.preventDefault(),t.update(e)}}},[t._v(t._s(t.$t("t_update_password")))])],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);